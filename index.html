<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Download and play custom Rocket League maps. Explore a wide variety of maps, tutorials, and installation guides for a better gaming experience." />
        <meta name="keywords" content="Rocket League, Custom Maps, Download Maps, Rocket League Mods, RL Maps, Gaming, Tutorials" />
        <meta name="author" content="Rocket League Custom Maps" />
        <meta property="og:title" content="Rocket League Custom Maps" />
        <meta property="og:description" content="Download and play custom Rocket League maps. Explore a wide variety of maps, tutorials, and installation guides for a better gaming experience." />
        <meta property="og:image" content="https://rl-custom-maps.github.io/og-image.jpg" />
        <meta property="og:url" content="https://rl-custom-maps.github.io/" />
        <meta name="twitter:card" content="summary_large_image" />
        <link rel="canonical" href="https://rl-custom-maps.github.io/" />
        <link rel="icon" href="https://rl-custom-maps.github.io/favicon.ico" type="image/x-icon" sizes="64x64" />
        <title>Rocket League Custom Maps</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <style type="text/css">
            @keyframes spin {
                0% {
                    transform: rotate(0);
                }
                to {
                    transform: rotate(360deg);
                }
            }
            body {
                background-color: #2a2a2a;
                color: #c7c7c7;
            }
            nav {
                background-color: #111114;
                padding-bottom: 0.8rem !important;
            }
            nav .navbar-brand {
                font-size: 24px;
                font-weight: 700;
                color: #fff;
            }
            nav .navbar-brand span {
                color: #00bcd4;
            }
            .search-bar {
                min-width: 100%;
            }
            .search-bar input {
                width: 100%;
                background-color: #686868;
                color: #e0e0e0;
                border: 1px solid #444;
            }
            .search-bar input:focus {
                background-color: #686868;
                border-color: #00bcd4;
                color: #fff;
            }
            .search-bar input::placeholder {
                color: #e0e0e0;
            }
            .map {
                margin-bottom: 20px;
            }
            .card {
                background-color: #1f1f1f;
                border: 1px solid #333;
                border-radius: 10px;
                transition: background-color 0.3s ease, transform 0.3s ease;
            }
            .card:hover {
                background-color: #111114;
                transform: scale(1.05);
            }
            .card-title {
                font-size: 18px;
                color: #fff;
            }
            .card img {
                width: 100%;
                height: auto;
                border-bottom: 1px solid #333;
            }
            .card-body {
                padding: 15px;
            }
            .card-header {
                background-color: #111114;
                color: #c7c7c7;
            }
            .btn-primary {
                background-color: #00bcd4;
                color: #fff;
                border: 0;
                border-radius: 5px;
                transition: background-color 0.3s ease;
            }
            .btn-primary:hover {
                background-color: #0097a7;
                color: #fff;
            }
            .btn-outline-primary {
                border-color: #0097a7;
                color: #fff;
                border-radius: 5px;
                transition: background-color 0.3s ease;
            }
            .btn-outline-primary:hover,
            .btn-primary:focus {
                background-color: #00bcd4;
                color: #fff;
            }
            .pagination .page-link {
                color: #00bcd4;
                background-color: #1f1f1f;
                border-color: #00bcd4;
            }
            .pagination .page-item.active .page-link,
            .pagination .page-link:hover {
                background-color: #00bcd4;
                color: #fff;
                border-color: #00bcd4;
            }
            .pagination {
                margin-top: 20px;
            }
            .row {
                margin-bottom: 30px;
            }
            .tab-content {
                padding: 0;
            }
            .page-item {
                margin-right: 10px;
            }
            .loader-container {
                text-align: center;
                margin-top: 50px;
            }
            .loader {
                border: 5px solid #f3f3f3;
                border-top: 5px solid #00bcd4;
                border-radius: 50%;
                width: 50px;
                height: 50px;
                animation: spin 1s linear infinite;
                margin: 0 auto;
            }
            .loading-text {
                color: #00bcd4;
                margin-top: 10px;
                font-size: 18px;
            }
            .error-message {
                text-align: center;
                color: #f44336;
                font-size: 18px;
                margin-top: 20px;
            }
            .reload-btn {
                display: block;
                margin: 25px auto;
                background-color: #f44336;
                color: #fff;
                border: 0;
                border-radius: 5px;
                padding: 10px 15px;
                cursor: pointer;
            }
            .reload-btn:hover {
                background-color: #d32f2f;
            }
            #credits {
                margin-right: 20px;
            }
            .hidden {
                visibility: hidden;
            }
            #mapGrid {
                transition: opacity 0.3s ease;
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
            }
            #mapGrid .col-md-3 {
                flex: 1 1 calc(100% - 20px);
                max-width: calc(100% - 20px);
                display: flex;
            }
            @media (min-width: 768px) {
                #mapGrid .col-md-3 {
                    flex: 1 1 calc(50% - 15px);
                    max-width: calc(50% - 15px);
                }
            }
            @media (min-width: 992px) {
                #mapGrid .col-md-3 {
                    flex: 1 1 calc(33.333% - 15px);
                    max-width: calc(33.333% - 15px);
                }
            }
            .card,
            .card-body {
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                flex-grow: 1;
            }
            .card-footer {
                align-items: center !important;
                width: 100%;
            }
            .btn-download {
                margin-top: auto;
                position: relative;
                bottom: 0;
                vertical-align: inherit;
            }
            .help-link {
                color: #f44336;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                margin-top: 10px;
                margin-left: 20px;
            }
            .help-link:hover {
                color: #f44336;
            }
            .help-link span {
                border-bottom: 2px dashed transparent;
                padding-bottom: 1px;
            }
            .modal-body .help-link span {
                border-color: #ebebeb;
            }
            .modal-body .help-link {
                margin: 0;
            }
            .help-link:hover span {
                border-color: #f44336;
            }
            .help-link svg {
                margin-right: 3px;
            }
            .modal-content {
                color: #08080a;
                background-color: #ebebeb;
            }
            .modal-header {
                border-bottom: var(--bs-modal-header-border-width) solid #005e6a;
                background-color: #919191;
            }
            .credits-popover {
                --bs-popover-header-bg: #00bcd4;
                --bs-popover-bg: #e2f3f5;
                --bs-popover-header-color: var(--bs-white);
                --bs-popover-border-color: #00bcd4;
            }
            .themed-tooltip {
                --bs-tooltip-bg: #00bcd4;
                --bs-tooltip-color: #1f1f1f;
            }
            .bs-popover-auto[data-popper-placement^="bottom"] > .popover-arrow::after,
            .bs-popover-bottom > .popover-arrow::after {
                border-bottom-color: #00bcd4;
            }
            .no-select {
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }
            a {
                color: #00bcd4;
                text-decoration: none;
            }
            ol li {
                margin-top: 0.5rem;
            }
            .text-bg-secondary {
                color: #08080a !important;
                background-color: #c7c7c7 !important;
                font-weight: 400 !important;
                font-size: 0.85rem !important;
                font-family: inherit !important;
            }
        </style>
    </head>
    <body class="pb-5 mb-5">
        <nav class="navbar navbar-expand-lg no-select">
            <div class="container">
                <div class="col-8">
                    <a class="navbar-brand" href="/"><img height="32" alt="Rocket League Logo" src="rl-logo.svg" width="73" /> <span>Custom Maps</span></a>
                </div>
                <div class="col-4">
                    <a
                        href="https://drive.google.com/drive/folders/1OFlKBCh4if34CkJa8u8SwRY46EA-fsed?usp=sharing"
                        id="google-drive"
                        title="Link to google drive folder which hosts all maps and other required files."
                        data-bs-toggle="tooltip"
                        data-bs-title="Link to google drive folder which hosts all maps and other required files."
                        style="float: right;"
                        target="_Blank"
                        data-bs-custom-class="themed-tooltip"
                    >
                        Google Drive
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#00bcd4" class="bi bi-folder-symlink-fill" viewBox="0 0 16 16">
                            <path
                                d="M13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2l.04.87a2 2 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3M2.19 3q-.362.002-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672a1 1 0 0 1 .707.293L7.586 3zm9.608 5.271-3.182 1.97c-.27.166-.616-.036-.616-.372V9.1s-2.571-.3-4 2.4c.571-4.8 3.143-4.8 4-4.8v-.769c0-.336.346-.538.616-.371l3.182 1.969c.27.166.27.576 0 .742"
                            />
                        </svg>
                    </a>
                </div>
            </div>
        </nav>

        <div class="container mt-2 mb-5">
            <div class="row mb-4">
                <div class="col-12 col-sm-7">
                    <h2 class="mt-3">
                        Download Community Maps
                        <a
                            role="button"
                            id="credits"
                            data-bs-toggle="popover"
                            data-bs-title="Map Credits <3"
                            data-bs-content="Huge thanks to respective creators for making these awesome custom maps and for sharing them with the Rocket League community."
                            data-bs-placement="bottom"
                            data-bs-trigger="focus"
                            data-bs-custom-class="credits-popover"
                            tabindex="0"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#00bcd4" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
                                <path
                                    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"
                                />
                            </svg>
                        </a>
                    </h2>
                </div>
                <div class="col-12 col-sm-5">
                    <div class="search-bar mb-3 mt-4 float-end">
                        <input type="text" id="searchInput" class="form-control" placeholder="Search for custom maps..." />
                    </div>
                </div>
            </div>
            <div class="row" id="mapGrid"></div>
            <div id="loader-container" class="loader-container text-center mt-5 pt-4 no-select">
                <div id="loader" class="loader"></div>
                <p class="loading-text mt-4">Please wait while we load maps...</p>
            </div>
            <div id="error-message" class="error-message mt-5 pt-4 no-select" style="display: none;">
                <p>An error occured while loading maps. Please try again.</p>
                <button class="reload-btn" onclick="fetchData()">Retry Loading</button>
            </div>
            <div class="container no-select">
                <ul class="pagination justify-content-center" id="pagination"></ul>
            </div>
        </div>

        <!-- How to Install and Play Popup -->
        <div class="modal fade" id="installModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="installModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable modal-fullscreen-lg-down">
                <div class="modal-content">
                    <div class="modal-header no-select">
                        <h5 class="modal-title" id="installModalLabel">How to Install and Play Custom Maps</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <ol>
                            <li>
                                Have a public external IP (usually called static IP) with port forwarding enabled for port 7777. <br />
                                <em>Note: Static IP is only required when you are hosting games with custom maps (i.e. LAN matches) that other players can join over internet. It is not required when you are joining games hosted by others. It is also not required if you want to play alone or with other players who are on the same network as your PC. (eg: same WIFI/LAN connection, just use LAN IP of host PC.)</em><br />
                            </li>
                            <li>
                                Download & Install BakkesMod then run BakkesMod.&nbsp;&nbsp;&nbsp;
                                <a href="https://github.com/bakkesmodorg/BakkesModInjectorCpp/releases/latest/download/BakkesModSetup.zip" class="help-link" target="_Blank">
                                    <span>Download BakkesMod &rarr;</span>
                                </a>
                            </li>
                            <li>
                                Download & Install workshop textures. <br />
                                (close rocket league and extract all contents of the texture zip file into rocket league's install location under <span class="badge text-bg-secondary">rocketleague\TAGame\CookedPCConsole</span> folder.<br />
                                <a href="https://drive.google.com/file/d/1DvNL9wZGkeUO-nQiT3sASLR3CeMkbP19/view?usp=sharing" class="help-link" target="_Blank">
                                    <span>Download workshop textures &rarr;</span>
                                </a>
                            </li>
                            <li>
                                Install Rocket Plugin for BakkesMod.<br />
                                (Link also contains instruction on plugin setup and a guide on how to host LAN matches or join matches hosted by other players.)<br />
                                <a href="https://bakkesplugins.com/plugins/view/26" class="help-link" target="_Blank">
                                    <span>Download Rocket Plugin &rarr;</span>
                                </a>
                            </li>
                            <li>
                                Install Netcode Plugin for BakkesMod.&nbsp;&nbsp;&nbsp;
                                <a href="https://bakkesplugins.com/plugins/view/166" class="help-link" target="_Blank">
                                    <span>Download Netcode Plugin &rarr;</span>
                                </a>
                            </li>
                            <li>
                                Install Map Expansion Plugin for BakkesMod.&nbsp;&nbsp;&nbsp;
                                <a href="https://bakkesplugins.com/plugins/view/294" class="help-link" target="_Blank">
                                    <span>Download Map Expansion Plugin &rarr;</span>
                                </a>
                            </li>
                            <li>Create a new folder anywhere on your storage drive and then extract all map zip files you download from this website inside this folder.</li>
                            <li>Open BakkesMod (if closed) &rarr; Open Rocket League.</li>
                            <li>Press "Home" key to show Rocket Plugin window while in-game. Configure "Rocket Plugin" to look for maps in the folder you created in Step 7.</li>
                            <li>Host or Join Custom Map Games using Rocket Plugin.
                                <ul>
                                    <li><em><u>If Hosting</u>: Choose the map, game mode, and any mutators (unlimited boost etc.) required in Rocket Plugin.</em></li>
                                    <li><em><u>If Joining</u>: Select the same map as the host in Rocket Plugin before connecting to the game. Connect to the host’s IP using Rocket Plugin.</em></li>
                                </ul>
                            </li>
                            <li>Have fun! Enjoy Playing Custom Maps!</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            const mapsPerPage = 9;
            let currentPage = 1;
            let mapData = [];
            let filteredMapData = [];

            // Fetch the map data from an API
            async function fetchData() {
                document.getElementById("loader-container").style.display = "block";
                document.getElementById("error-message").style.display = "none";
                try {
                    const response = await fetch("https://rl-custom-maps.github.io/maps-api.json");
                    mapData = await response.json();
                    filteredMapData = [...mapData];
                    renderMaps();
                    document.getElementById("loader-container").style.display = "none";
                } catch (error) {
                    console.error("Error fetching data:", error);
                    document.getElementById("loader-container").style.display = "none";
                    document.getElementById("error-message").style.display = "block";
                }
            }

            function renderMaps(subsequent_request) {
                const mapGrid = document.getElementById("mapGrid");
                const pagination = document.getElementById("pagination");
                const lazy_load_enabled = (subsequent_request === undefined || subsequent_request === false) ? 'false' :'true';
                const lazy_load = (lazy_load_enabled === 'true') ? 'loading="lazy"' :'';

                // Temporarily hide the grid while updating
                mapGrid.style.opacity = "0";

                setTimeout(() => {
                    mapGrid.innerHTML = "";
                    pagination.innerHTML = "";

                    const startIndex = (currentPage - 1) * mapsPerPage;
                    const endIndex = startIndex + mapsPerPage;
                    const currentMaps = filteredMapData.slice(startIndex, endIndex);

                    currentMaps.forEach((map) => {
                        const mapElement = document.createElement("div");
                        mapElement.classList.add("col-md-3", "mb-4");
                        mapElement.innerHTML = `
							<div class="card">
								<h5 class="card-header">${map.name}</h5>
								<img src="${map.thumbnail}" alt="${map.name} Preview Thumbnail" class="no-select" ${lazy_load}>
								<div class="card-body">
									<p class="card-text">${map.description}</p>
									<div class="card-footer no-select">
										<a href="${map.download}" class="btn btn-primary btn-download" target="_Blank">Download Map</a>
										<a role="button" class="help-link" data-bs-toggle="modal" data-bs-target="#installModal" tabindex="0">
											<div class="mt-1">
												<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
													<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
												</svg>
												<span>How to Play?</span>
											</div>
										</a>
									</div>
								</div>
							</div>`;
                        mapGrid.appendChild(mapElement);
                    });

                    const totalPages = Math.ceil(filteredMapData.length / mapsPerPage);

                    for (let i = 1; i <= totalPages; i++) {
                        const pageItem = document.createElement("li");
                        pageItem.className = `page-item ${i === currentPage ? "active" : ""}`;

                        const pageLink = document.createElement("button");
                        pageLink.className = "page-link";
                        pageLink.textContent = i;
                        pageLink.addEventListener("click", () => {
                            currentPage = i;
                            renderMaps(true); // Mark as subsequest request to lazy load images.
                        });

                        pageItem.appendChild(pageLink);
                        pagination.appendChild(pageItem);
                    }

                    // Show the grid after updating
                    mapGrid.style.opacity = "1";
                }, 300); // Match this duration to the CSS transition time
            }

            document.getElementById("searchInput").addEventListener("input", (event) => {
                const query = event.target.value.toLowerCase();
                filteredMapData = mapData.filter((map) => map.name.toLowerCase().includes(query) || map.description.toLowerCase().includes(query));
                currentPage = 1;
                renderMaps();
            });

            // Initialialize Popovers
            const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
            const popoverList = [...popoverTriggerList].map((popoverTriggerEl) => new bootstrap.Popover(popoverTriggerEl));

            // Initialialize Tooltips
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
            const tooltipList = [...tooltipTriggerList].map((tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl));

            // Initial data fetch when page loads
            fetchData();
        </script>
    </body>
</html>